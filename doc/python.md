# Python
## 第一个Python程序

1. python的源代码文件名为`.py`
2. python的源代码文件名称只能是英文字母，数字，下划线的组合
3. windows不能直接运行`.py`文件，在MacOS和Linux下，在文件首行添加：

`#!/usr/bin/env python3`这个一个注释，赋予文件执行权限：`chmod a+x hello.py`即可直接运行

4. 打印输出：print()函数。字符串拼接可以使用逗号`,`也可以使用`+`号，打印时遇到逗号`,`会输出空格

5. 输入：input()函数。使用变量接收输入的值；input函数接收一个参数，显示这个字符串来提示用户

6. 输入输出统称为input/output，简称IO

## Python基础

1. 注释使用`#`
2. 代码块使用4个空格的缩进
3. 冒号`:`结尾视为代码块
### 数据类型和变量
1. 整数和数学一样，十六进制以`0x`开头

2. 浮点数和数学一样，太大的数用科学计数法，如：
   $$
   {1.23}\times{10^9}
   $$
   就是`1.23e9`

3. 整数运算永远精确，浮点数可能会有四舍五入的误差

4. 字符串的写法和Java相同

5. `r''`表示`''`内的所有字符串均不会转义

6. 多行输出使用`'''...'''`（实测pycharm中可以不写…，直接换行即可）

7. `'''...'''`可以和`r`一起使用，表示多行字符串均不会转义

8. 布尔值为`True`和`False`，注意大小写

9. 布尔值使用`and、or、not`表示`与或非`

10. 空值为None（类似于Java的Null）

11. 变量名必须是英文、数字和下划线`_`的组合，且不能以数字开头

12. Python是动态语言，变量类型不固定，不需要声明变量的类型

13. 常量名都是大写

14. Python没有任何机制保证常量不变（Java有final保证常量不变）

15. Python有两种除法：普通除法（/），地板除（//）

16. 普通除法的结果一定是浮点数，即使能被整除

17. 地板除的结果一定是整数，只取整数部分

18. Python的整数无限制大小

19. 浮点数也无限制大小，超出一定范围直接表示inf（无限大）

### 字符串和编码

1. Unicode`是2个字节，`ASCII`是1个字节
2. `Unicode`的问题，如果全英文，比ASCII编码多一倍存储空间
3. `UTF-8`是可变长编码，节省空间
4. `UTF-8`中英文占1个字节，中文占3个字节，生僻字占4-6个字节
5. 内存使用`Unicode`编码，存储时使用`UTF-8`编码
6. Python3以Unicode编码
7. `ord()`函数获取字符的整数表示
8. `chr()`函数把编码转换为字符
9. 将`str`转换成`bytes`以在网络上传输或保存到磁盘中
10. `encode()`将指定`str`转换成`bytes`，参数为编码方式
11. Python用带`b`前缀的单引号或双引号表示
12. `bytes`的每个字符只占一个字节
13. `bytes`中不能显示为`ASCII`字符的字节，用`\x##`表示
14. 从网络上读取的字节流都是`bytes`
15. `decode()`函数将`bytes`转化为`str`
16. `decode()`函数可以传入`errors='ignore'`来忽略错误的字节
17. `len()`函数计算`str`包含多少个字符
18. `len()`函数传入`bytes`则计算字节数
19. 为避免乱码，始终使用`UTF-8`对`str`和`bytes`进行转换
20. 告诉Python以`UTF-8`的格式读取源码：`-*- coding:UTF-8 -*-`，否则中文输出可能有乱码
21. 格式化输出字符串和C语言类似，用`%`实现：`hello, %s % mike`
22. 占位符：

    | 占位符 | 替换内容     |
    | ------ | ------------ |
    | %d     | 整数         |
    | %f     | 浮点数       |
    | %s     | 字符串       |
    | %x     | 十六进制整数 |
    
23. 整数和浮点数可以指定补0和小数位数

24. 不确定可以用`%s`，万能用法

25. 如果字符串中有`%`，需要`%%`转义成普通字符串

26. `format()`函数也可以格式化，占位符为：`{0},{1}...的形式`

27. format的占位符也可以指定小数位，`{1:.2f}`表示2位小数

28. `str`和`bytes`互相转换时，最好使用`UTF-8`编码

### list和tuple

1. `-1`表示最后一个元素，依次类推

2. `len()`函数可以得到list的元素个数

3. `append()`函数追加到list的末尾

4. `insert()`函数插入指定位置

5. `pop()`函数删除list末尾的元素，传参数表示删除指定位置的元素

6. list里的数据类型可以都不同

7. list里也可以放list，此时就是一个可以看做2维数组，依次类推

8. 空list的长度为0

9. tuple也叫元组

10. tuple和list都是有序列表，不同的是tuple初始化后就不能再修改

11. list的格式为`[]`，tuple的格式为`()`

12. tuple不能修改，所以没有append，insert等方法

13. tuple不可变，更安全

14. tuple只有一个元素时，要这么写：`t = (1,) `；`(1)`有歧义，会被当作1这个数

15. tuple只有一个元素时，打印时会在最后加上逗号，以免引起歧义

16. tuple的不变指的是指向不变，tuple中的list可以改变元素

17. 内容也不变的tuple，所有元素都不能再指向其他元素（基本类型）

### 条件判断

1. if后面只要是非零数值，非空字符串，非空list，就判断为true，否则为false
2. `int()`函数将字符串转换成整数

###循环

1. `rang()`函数生成一个整数序列，从0开始，范围是大于等于0，小于指定的数
2. `list()`函数转换为list
3. break和continue的用法和Java相同

### dict和set

1. dict相当于Java的map
2. 使用in判断key是否存在：`key in dict`
3. `get()`函数参数为key，不存在则返回None，或指定默认值
4. dict的key必须是不可变对象
5. 不可变对象就是Python中的基本类型
6. `set()`函数传入一个list创建一个set
7. `add()`函数添加元素到set中
8. `remove()`函数删除元素
9. set和set之间可以通过`&`做交集，`|`做并集
10. 对于不可变对象，调用对象的任意方法，不会改变该对象本身的内容，会创建新的对象返回，保证了不可变对象永远不变
11. tuple可以作为dict和set的key，但要求tuple中的元素都是不可变对象，否则就会报错

## 函数

1. 函数就是最基本的一种代码抽象的方式
2. `abs()`函数求绝对值
3. `max()`函数接收任意多个参数，返回最大的那个
4. `int()、float()、str()、bool()`都是类型转换函数，将其他类型转换成对应的类型
5. 用变量接收一个函数，相当于函数的别名，可以作为函数使用
6. `hex()`函数把一个整数转成十六进制表示的字符串
7. 定义函数使用`def`，依次写出函数名，括号，参数，冒号`:`，缩进后写函数体，返回值用`return`返回
8. 没有return任何返回值，也会返回None
9. 自定义的函数可以导入到其他文件中
10. `pass`表示空函数，相当于占位符，先让代码可以执行，稍后再补充实现
11. `isInstance()`函数做参数类型检查，第一个参数代表要检查的参数，第二个参数代表检查的类型
12. python的函数可以有多个返回值
13. python的多返回值是假象，实际是个tuple，多个变量按顺序赋予值
14. python返回一个tuple可以省略括号
15. 如果有必要，先对参数的数据类型做检查

### 函数参数

#### 位置参数

1. 位置参数，就是普通的参数

#### 默认参数

1. 函数增加参数，旧的代码调用失效，此时增加的参数应为默认参数
2. 默认参数必须在必选参数的后面（因为Python默认按参数顺序传参）
3. 多个参数时，把变化频繁的参数放前面，变化少的放后面，变化少的参数就可以作为默认参数
4. 只有与默认参数不符的调用才会传入额外的信息
5. 默认函数降低了调用函数的难度，无论简单调用还是复杂调用，函数只需要定义一个
6. 默认参数的坑：不可变对象作为参数时，下次调用会记住上次调用的值
7. 默认参数必须指向不可变对象
8. 默认参数使用不可变对象时，赋值为`None`即可，在函数中处理为None的逻辑即可
9. 不可变对象一旦创建就不会改变，也不能修改
10. 因为不可变对象的特性，多任务环境下同时读取对象不需要加锁
11. 写代码的时候尽量使用不可变对象
12. `None`也是不可变对象

#### 可变参数

1. 写法：`*变量名`

2. 不需要再提前组装好list或tuple
3. 如果要传入list或tuple，在list或tuple变量前面加上一个`*`，表示将list或tuple转换为可变参数传入
4. 可变参数在函数内部调用时自动组装为tuple

#### 关键字参数

1. 写法`**kw`

2. 关键字参数允许传入0个或任意个带有参数名的参数（即关键字参数也是可变参数，只不过关键字参数是键值对的形式）

3. 关键字参数在函数内部自动组装成为dict
4. 如果要传入dict，在dict变量前面加上一个`**`，表示将dict转换为关键字参数传入

#### 命名关键字参数

1. 对关键字参数名做限制，不能任意的传入关键字参数

2. 使用特殊的分隔符`*`，`*`后面的参数视为命名关键字参数

3. 缺少命名关键字参数将会报错

4. python的函数参数按顺序赋值，不使用关键字将作为可变参数处理

5. 如果参数中已经有可变参数，则后面的参数都是命名关键字参数，不再需要分隔符

6. 命名关键字参数必须传入参数名

7. 缺少参数名将视为位置参数

8. 命名关键字参数可以有默认值

9. 有默认值时，可不传入命名关键字参数

10. 缺少`*`无法识别位置参数和命名关键字参数

11. 参数定义的顺序必须是：必选参数->默认参数->可变参数->命名关键字参数->关键字参数

#### 总结

1. 任意函数，都可以用`func(*args,**kw)`的方式来调用，无论参数如何定义（因为是按顺序传参）
2. 不要使用太多的参数组合，接口的理解性很差
3. 默认参数一定要是不可变对象，否则会有逻辑错误
4. 命名关键字参数是为了限制使用者可以传入的参数名，同时可以提供默认值

## 高级特性

### 切片

1. 语法：`L[x:y:z]`，从第x位取到y位，但不包括y位，每隔z位取一个数
2. 如果从0开始，第一位可以不写；如果取到末尾，第二位可以不写
3. `[:]`表示复制一个list
4. tuple也可以切片，切片的结果仍然是tuple
5. 字符串可以看做是一个字符的list，可以进行切片，结果仍然是字符串

### 迭代

1. dict默认迭代key，迭代value`for value in dict.values()`，迭代key-value`for k,v in dict.items`
2. 字符串是可迭代对象，也可以使用for循环
3. for的运行需要可迭代对象
4. 根据collections模块的Iterable的类型判断对象是否是可迭代对象
5. 整数不可迭代
6. `enumerate`函数把一个list变成`索引-元素对`，在for循环中同时迭代索引和元素

### 列表生成式

1. 语法：`[x * x for x in range(1, 100) if x % 2 == 0]`，要生成的元素放前面，后面跟上for循环，最后还可以加个if条件判断或者再来一个for循环生成全排列
2. 

